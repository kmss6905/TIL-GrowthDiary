# κ³ λ“±μ΄μμ²΄μ , μΈν„°λ½νΈ κΈ°λ° μ΄μμ²΄μ 



<details>
<summary>Q. μ»΄ν“¨ν„° λ¶€ν…μ‹ μ–΄λ–¤ μΌμ΄ μΌμ–΄λ‚  κΉ?</summary>
<div markdown="1">

```text
μ‚¬μ©μκ°€ μ»΄ν“¨ν„°μ μ „μ›μ„ μΌλ©΄ λ΅¬(ROM)μ— μ €μ¥λ λ°”μ΄μ¤μ¤κ°€ μ‹¤ν–‰λλ‹¤. λ°”μ΄μ¤μ¤λ” CPU, λ©”λ¨λ¦¬, ν•λ“λ””μ¤ν¬, ν‚¤λ³΄λ“ λ“±μ μ£Όμ” ν•λ“μ›¨μ–΄κ°€ μ λ€λ΅ μ‘λ™ν•λ” μ§€ ν™•μΈν•λ‹¤.
μ΄μƒμ΄ μ—†μΌλ©΄ μ΄ν›„ ν•λ“λ””μ¤ν¬μ λ§μ¤ν„° λ¶€νΈ λ μ½”λ“(MBR)μ— μ €μ¥λ μ‘μ€ ν”„λ΅κ·Έλ¨(λ¶€νΈμ¤νΈλ©)μ„ λ©”λ¨λ¦¬λ΅ κ°€μ Έμ™€ μ‹¤ν–‰ν•λ‹¤.
λ¶€νΈμ¤νΈλ©μ΄ λ©”λ¨λ¦¬μ— μ¬λΌμ¤λ©΄ λΉ„λ΅μ† ν•λ“λ””μ¤ν¬μ— μλ” μ €μ¥λ μ΄μμ²΄μ λ¥Ό λ©”λ¨λ¦¬λ΅ λ¶λ¬μ¤κ² λλ‹¤. 


μ°Έκ³ λ΅, λ§μ¤ν„° λ¶€νΈ λ μ½”λ“λ” ν•λ“λ””μ¤ν¬μ μ²«λ² μ§Έ μ„Ήν„°λ¥Ό κ°€λ¦¬ν‚¤λ”λ°, μ΄ κ³³μ—λ” μ΄μμ²΄μ λ¥Ό μ‹¤ν–‰ν•κΈ° μ„ν• λ¶€νΈμ¤νΈλ©(bootstrap) μ΄ μ €μ¥λμ–΄ μλ‹¤.
```

</div>
</details>

<details>
<summary>Q. OS λ¶€ν… ν›„ λ§μ°μ¤λ¥Ό μ›€μ§μ΄λ©΄ CPUλ” λ¬΄μ—‡μ„ ν• κΉ?</summary>
<div markdown="1">

```text
λ§μ°μ¤λ¥Ό μ›€μ§μ΄κ² λλ©΄ μ „κΈ°μ  μ‹ νΈκ°€ μ»΄ν“¨ν„°λ΅ μ „μ†΅λ  κ²ƒμ΄λ‹¤. 
μΈν„°λ½νΈ μ„ μΌλ΅ μ „κΈ°μ‹ νΈλ¥Ό λ³΄λ‚΄κ² λλ©΄ μ»΄ν“¨ν„° λ‚΄λ¶€μ cpuλ” μΈν„°λ½νΈλ¥Ό μΈμ§€ν•  κ²ƒμ΄λ‹¤.
μ΄λ• cpuλ” λ„μ¤‘μ— ν•λ μ‘μ—…μ„ λ©μ¶”κ³  OS λ‚΄λ¶€μ λ§μ°μ¤ μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄(ISR)μ„ μ‹¤ν–‰μ‹μΌ μ›ν•λ” λ™μ‘(μ›€μ§μ„)μ„ ν•λ„λ΅ ν•λ‹¤.
κ²°κµ­ μΈν„°λ½νΈκ±Έλ¦° ν›„ OS λ‚΄λ¶€μ μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄(ISR)μ΄ μ‹¤ν–‰ λμ–΄ μ›€μ§μ΄λ” λ§μ°μ¤λ¥Ό λ³Ό μ μλ” κ²ƒμ΄λ‹¤.
```

</div>
</details>

# κ³ λ“± μ΄μμ²΄μ 

## λ‹¤μ¤‘ ν”„λ΅μ„Έμ„(Multiprocessor system)

λ©”λ¨λ¦¬κ°€ ν•λ‚μ΄μ§€λ§ cpu(ν”„λ΅μ„Έμ„) κ°€ μ—¬λ¬κ° μλ” κ²½μ°

- λ³‘λ ¬ μ‹μ¤ν…(parallel system)
- κ°•κ²°ν•© μ‹μ¤ν…(tightly-coupled system)
- 3κ°€μ§€ μ¥μ : performance, cost, reliability)
    - μΌλ°μ μΌλ΅ κ°•ν• κ±° ν•λ‚ μ“°λ” κ±° λ³΄λ‹¤ μ„±λ¥μ€ μΆ€ λ–¨μ–΄μ§€λ” κ±° μ—¬λ¬κ° μ“°λ” κ² μ €λ ΄! (cost)
- ***λ‹¤μ¤‘ ν”„λ΅μ„Έμ„ μ΄μμ²΄μ (Multiprocessor OS)***
    - μ¤μΌ€μ¥΄λ§ μμ²΄κ°€ λ‹¬λΌμ§
    - Linux λ„ μ§€μ›ν•¨

## λ¶„μ‚° μ‹μ¤ν…(Distributed system)

- λ‹¤μ¤‘ μ»΄ν“¨ν„° μ‹μ¤ν…(multi-computer system)
- μ†κ²°ν•© μ‹μ¤ν…(loosely-coupled system)
    - κ·Έλ¦Όμ—μ„μ²λΌ κ° μ»΄ν“¨ν„°λ” λ¬Όλ¦¬μ μΌλ΅ μ§μ ‘ μ—°κ²°λμ–΄ μλ” κ²ƒμ΄ μ•„λ‹ LAN, λ„¤νΈμ›ν¬λ΅ μ—°κ²°λμ–΄ μλ‹¤. κ°•κ²°ν•© X
- λ¶„μ‚° μ΄μμ²΄μ (Distributed OS)
    - λν• λ‹¤μ¤‘ν”„λ΅μ„Έμ„ μ²λΌ μ„±λ¥, λΉ„μ©, μ‹ λΆ°μ„± λ¬Έμ  ν•΄κ²°
        - μ„±λ¥ : ν•λ‚κ°€ μ•„λ‹ μ—¬λ¬κ°μ ν”„λ΅μ„Έμ„ μ‚¬μ©
        - μ‹ λΆ°μ„± : ν•λ‚μ λ…Έλ“κ°€ μ£½λ”λΌλ„ λ‹¤λ¥Έ κ³³μ—μ„ μ²λ¦¬ κ°€λ¥
    - λ‹Ήμ—°ν μ„λ΅κ°„μ λ©”μ‹μ§€λ¥Ό μ£Όκ³  λ°›μ•„μ•Ό ν•κΈ° λ•λ¬Έμ— μΌλ° OSμ™€ λ‹¬λΌμ•Ό ν•λ‹¤. ν•λ‚μ λ©ν‘λ¥Ό μ„ν•΄!

## μ‹¤μ‹κ°„ μ‹μ¤ν…(Real-time system)

μ–΄λ–¤ κ³„μ‚°μ΄ λ°λ“μ‹ νΉμ • μ‹κ°„μ•μ— λλ‚΄μ•Ό ν•λ” κ²½μ°

- μ‹κ°„ μ μ•½: Deadline
- κ³µμ¥ μλ™ν™” (FA), κµ°μ‚¬, ν•­κ³µ, μ°μ£Ό
- μ‹¤μ‹κ°„ μ΄μμ²΄μ (Real-time OS = RTOS)

# μΈν„°λ½νΈ κΈ°λ° μ‹μ¤ν…(Interrupt Based System)

## ν„λ€ μ΄μμ²΄μ λ” μΈν„°λ½νΈ κΈ°λ° μ‹μ¤ν…!

## μΈν„°λ½νΈ

### λ¶€ν…μ΄ λλ‚λ©΄?

- μ΄μμ²΄μ λ” λ©”λ¨λ¦¬μ— μƒμ£Ό(resident)
- μ‚¬κ±΄(event) μ„ κΈ°λ‹¤λ¦¬λ©° λ€κΈ°: ν‚¤λ³΄λ“, λ§μ°μ¤ β€¦

### ν•λ“μ›¨μ–΄ μΈν„°λ½νΈ ( Hardware interrupt)

- λ§μ°μ¤ ν΄λ¦­, λ§μ°μ¤ μ»¤μ„ μ΄λ™, ν‚¤λ³΄λ“ μ…λ ¥ λ“±λ“± ..
- μΈν„°λ½νΈ κ²°κ³Ό μ΄μμ²΄μ λ‚΄μ νΉμ • μ½”λ“ μ‹¤ν–‰(**ISR = μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄**)
- Interrupt Service Routine μΆ…λ£ ν›„ λ‹¤μ‹ λ€κΈ°

### μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈ (Software interrupt)

- μ‚¬μ©μ ν”„λ΅κ·Έλ¨μ΄ μ‹¤ν–‰λλ©΄μ„ μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈ (μ΄μμ²΄μ  μ„λΉ„μ¤ μ΄μ© μ„ν•΄)
    - κ°€λ Ή μ•„λν•κΈ€ ν”„λ΅κ·Έλ¨μ„ ν†µν•΄ νΉμ • νμΌμ„ λ¶λ¬μ¤λ” ν–‰μ„, μ΄ κ²½μ° νμΌμ„ λ¶λ¬μ¤κΈ° μ„ν•΄μ„ λ””μ¤ν¬ IOκ°€ μΌμ–΄λ‚κ² λλ” λ° μ΄λ• μΈν„°λ½νΈκ°€ μΌμ–΄λ‚λ‹¤. (ν•λ“λ””μ¤ν¬ μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄)
- μΈν„°λ½νΈ κ²°κ³Ό μ΄μμ²΄μ  λ‚΄μ νΉμ • μ½”λ“ μ‹¤ν–‰(ISR)
    - SWI, INT(ν¬ν‹°μ—„)

```text

π—¨οΈ μ”μ•½

μ΄μμ²΄μ λ” ν‰μ†μ—λ” λ€κΈ° μƒνƒμ΄λ‹¤. μΈν„°λ½νΈκ°€ μΌμ–΄λ‚λ©΄ OS μ•μ β€μ½”λ“β€™κ°€ μ‹¤ν–‰λλ‹¤.
κµ¬μ²΄μ μΌλ΅, ν•λ“μ›¨μ–΄ μΈν„°λ½νΈ, μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈ, λ‚΄λ¶€ μΈν„°λ½νΈ(Interrnal Interrupt) μ— μν•΄ μ΄μμ²΄μ  μ½”λ“ (ISR)κ°€ μ‹¤ν–‰λλ‹¤.

κ·Έλ¦¬κ³  ISR μ½”λ“ μ‹¤ν–‰μ΄ λλ‚λ©΄(μΆ…λ£) μ›λμ λ€κΈ°μƒνƒ λλ” μ‚¬μ©μ ν”„λ΅κ·Έλ¨ μΌλ΅ λ³µκ·€

```

### λ‚΄λ¶€ μΈν„°λ½νΈ(traps)

μ»΄ν“¨ν„° μ‹μ¤ν… λ‚΄λ¶€μ—μ„ λ°μƒν•λ” μ΄λ²¤νΈ λλ” μ΅°κ±΄μ— μν•΄ μΌμ–΄λ‚λ” μΈν„°λ½νΈμ΄λ‹¤. λ‚΄λ¶€ μΈν„°λ½νΈλ” λ‹¤μ–‘ν• μƒν™©μ—μ„ λ°μƒν•  μ μμ§€λ§, μΌλ°μ μΌλ΅ μ•„λμ™€ κ°™μ€ κ²½μ°μ— λ°μƒν•λ‹¤. μ¦‰, μλ»λ λ…λ Ήμ΄λ‚ λ°μ΄ν„°λ¥Ό μ‚¬μ©ν•  λ• λ°μƒν•λ” μΈν„°λ½νΈ

- Attempt to divide by zero, Stack overflow, ν”„λ΅κ·Έλ¨μ—μ„ ν•¨μ λ“± λ…λ Ήμ–΄λ¥Ό μλ» μ‚¬μ©ν• κ²½μ°

μ‹¤μ , OS μ•μ—λ” λ‹Ήμ—°ν β€Dived by Zeroβ€ λΌλ” κ²ƒμ„ μ²λ¦¬ν•λ” μΈν„°λ½νΈ λ£¨ν‹΄ μ„λΉ„μ¤(ISR)κ°€ μλ‹¤. ν•΄λ‹Ή μ½”λ“μ—λ” μλ»λ μ½”λ“λ¥Ό μ‹¤ν–‰ν• ν”„λ΅κ·Έλ¨μ„ κ°•μ λ΅ μΆ…λ£ν•λ„λ΅ λμ–΄μλ‹¤.